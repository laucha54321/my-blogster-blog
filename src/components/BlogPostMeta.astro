---
import { getBlogPostMeta } from "../lib/seo";
import {
  SITE_TITLE,
  SITE_DESCRIPTION,
  SITE_URL,
  MY_NAME,
} from "../config";

export interface Props {
  title?: string;
  description?: string;
  publishDate: string;
  pagePath?: string;
  ogImageAbsoluteUrl?: string;
  ogImageAltText?: string;
  ogImageWidth?: number;
  ogImageHeight?: number;
}

const {
  title,
  description,
  publishDate,
  pagePath,
  ogImageAbsoluteUrl,
  ogImageAltText,
  ogImageWidth,
  ogImageHeight,
} = Astro.props;

const { meta, og, twitter } = getBlogPostMeta({
  title: title || SITE_TITLE,
  description: description || SITE_DESCRIPTION,
  pageUrl: pagePath ? new URL(pagePath, SITE_URL).toString() : undefined,
  authorName: MY_NAME,
  publishDate,
  ogImageAbsoluteUrl,
  ogImageAltText,
  ogImageWidth,
  ogImageHeight,
});
---

<!-- Primary Meta Tags -->
<title>{meta.title}</title>
<meta name="title" content={meta.title} />
{meta.description && <meta name="description" content={meta.description} />}
{meta.canonicalUrl && <link rel="canonical" href={meta.canonicalUrl} />}

